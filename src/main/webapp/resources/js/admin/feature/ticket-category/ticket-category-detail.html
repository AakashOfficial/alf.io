<div class="panel panel-default" ng-class="$ctrl.boxClass">
    <div class="panel-body category-detail">
        <div class="row">
            <div class="col-xs-8">
                <h3>{{$ctrl.ticketCategory.name}}</h3>
            </div>
            <div class="col-xs-4">
                <div class="pull-right">
                    <a class="btn btn-sm btn-default" ng-click="$ctrl.editHandler($ctrl.ticketCategory)"><i class="fa fa-edit"></i> edit</a>
                    <a class="btn btn-sm btn-danger" ng-click="$ctrl.removeHandler($ctrl.ticketCategory)"><i class="fa fa-trash"></i> delete</a>

                    <!--<a class="btn btn-sm btn-default" ui-sref="events.single.ticketsList({eventName: event.shortName, categoryId: ticketCategory.id})">-->
                        <!--<i class="fa fa-ticket"></i> tickets-->
                    <!--</a>-->
                    <!--<a class="btn btn-sm btn-default" data-ng-click="toggleTokenViewCollapse(ticketCategory)" data-ng-if="ticketCategory.accessRestricted">-->
                        <!--<i class="fa fa-qrcode"></i> tokens-->
                    <!--</a>-->
                    <!--<a class="btn btn-sm btn-default" data-ui-sref="events.single.sendInvitations({eventName: event.shortName, categoryId: ticketCategory.id})" data-ng-if="ticketCategory.accessRestricted && !ticketCategory.expired">-->
                        <!--<i class="fa fa-envelope-o"></i> send invitations-->
                    <!--</a>-->
                    <!--<a class="btn btn-sm btn-default" data-ng-click="openConfiguration(event, ticketCategory)"><i class="fa fa-wrench"></i> options</a>-->
                </div>
            </div>
        </div>
        <hr />
        <div class="row">
            <div class="col-xs-5">
                <h5><i class="fa fa-calendar-check-o fa-1_5x"></i> <span class="sr-only">Ticket Sale period</span>
                    <span class="text-muted">
                        <span ng-if="$ctrl.ticketCategory.formattedInception">{{$ctrl.ticketCategory.formattedInception | formatDate}}</span>
                        <span ng-if="!$ctrl.ticketCategory.formattedInception">{{$ctrl.formatDateTimeModification($ctrl.ticketCategory.inception) | formatDate}}</span> -
                        <span ng-if="$ctrl.ticketCategory.formattedExpiration">{{$ctrl.ticketCategory.formattedExpiration | formatDate}}</span>
                        <span ng-if="!$ctrl.ticketCategory.formattedExpiration">{{$ctrl.formatDateTimeModification($ctrl.ticketCategory.expiration) | formatDate}}</span>
                    </span>
                </h5>
                <h5>
                    <i class="fa fa-ticket fa-1_5x"></i><span class="sr-only">Max Tickets</span>
                    <span class="text-muted" ng-switch="$ctrl.ticketCategory.bounded">
                        <span ng-switch-when="true">{{$ctrl.ticketCategory.maxTickets}}</span>
                        <span ng-switch-when="false">dynamic</span>
                    </span>
                    <i class="ml-1 fa fa fa-money fa-1_5x"></i><span class="sr-only">Ticket Price</span>
                    <span class="text-muted">
                        {{$ctrl.ticketCategory.price | currency : ($ctrl.event.currency || "")}} <span ng-if="!$ctrl.event.vatIncluded"><i class="text-muted">+ VAT</i></span>
                    </span>
                </h5>
                <h5 ng-if="$ctrl.hasCustomCheckIn()">
                    <i class="fa fa-qrcode fa-1_5x"></i><span class="sr-only">Check-in Interval</span>
                    <span class="text-muted">{{$ctrl.getCheckInFrom() | formatDate}} - {{$ctrl.getCheckInTo() | formatDate}}</span>
                </h5>
                <h5 ng-if="$ctrl.hasCustomTicketValidity()">
                    <i class="fa fa-clock-o fa-1_5x"></i><span class="sr-only">Ticket Validity</span>
                    <span class="text-muted">{{$ctrl.getTicketValidityFrom() | formatDate}} - {{$ctrl.getTicketValidityTo() | formatDate}}</span>
                </h5>
                <h5 ng-if="$ctrl.ticketCategory.code">
                    <i class="fa fa-link fa-1_5x"></i><span class="sr-only">Access Code</span>
                    <span class="text-muted">{{$ctrl.ticketCategory.code}}</span>
                </h5>
            </div>
            <div class="col-xs-7 category-detail">
                <div ng-if="$ctrl.categoryHasDescriptions($ctrl.ticketCategory)">
                    <div class="row category-description" data-ng-repeat="(lang, desc) in $ctrl.ticketCategory.description">
                        <div class="col-xs-10"><language-flag lang="{{lang}}"></language-flag> <small class="ml-1 text-muted">{{desc | limitTo:80}}{{desc.length > 80 ? '...':''}}</small></div>
                        <div class="col-xs-2"><display-commonmark-preview text="desc"></display-commonmark-preview></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
